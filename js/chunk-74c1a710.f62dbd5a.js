(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74c1a710"],{"03b2":function(a,t,e){var s=e("3d8c"),i=e("b467").f,n=Function.prototype,r=n.toString,c=/^\s*function ([^ (]*)/,o="name";!s||o in n||i(n,o,{configurable:!0,get:function(){try{return r.call(this).match(c)[1]}catch(a){return""}}})},"1fee":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return a.data?e("div",{staticClass:"page-index"},[a.areaStatus?a._e():e("div",{},[e("van-nav-bar",{attrs:{"left-arrow":"",title:"编辑个人资料"},on:{"click-left":a.onClickLeft}}),e("section",{staticClass:"main"},[e("div",{staticClass:"avatar-box"},[e("van-uploader",{attrs:{"after-read":a.afterRead}},[e("img",{attrs:{src:a.data.avatar}}),e("p",[a._v("点击更换头像")])])],1),e("ul",{staticClass:"list"},[e("li",{staticClass:"item"},[e("p",{staticClass:"label"},[a._v("昵称")]),e("p",{staticClass:"value",on:{click:function(t){return a.handleToEdit("1")}}},[a._v(a._s(a.data.username)),e("van-icon",{attrs:{name:"arrow"}})],1)]),e("li",{staticClass:"item"},[e("p",{staticClass:"label"},[a._v("签名")]),e("p",{staticClass:"value",class:{"not-value":!a.data.bio},on:{click:function(t){return a.handleToEdit("2")}}},[a._v(a._s(a.data.bio?a.data.bio:"填写个性签名更容易获得关注")),e("van-icon",{attrs:{name:"arrow"}})],1)]),e("li",{staticClass:"item"},[e("p",{staticClass:"label"},[a._v("性别")]),e("p",{staticClass:"value",class:{"not-value":!a.data.gender},on:{click:function(t){return a.handleToEdit("3")}}},[a._v(a._s(a.data.gender?a.data.gender:"点击设置")),e("van-icon",{attrs:{name:"arrow"}})],1)]),e("li",{staticClass:"item"},[e("p",{staticClass:"label"},[a._v("地区")]),e("p",{staticClass:"value",class:{"not-value":!a.data.resideprovince&&!a.data.residecity},on:{click:function(t){return a.handleToEdit("4")}}},[a._v(a._s(a.data.resideprovince)+"."+a._s(a.data.residecity)+" "+a._s(a.data.resideprovince||a.data.residecity?"":"点击设置")),e("van-icon",{attrs:{name:"arrow"}})],1)]),e("li",{staticClass:"item"},[e("p",{staticClass:"label"},[a._v("车友圈")]),e("p",{staticClass:"value"},[e("van-icon",{attrs:{name:"arrow"}})],1)])])]),e("van-action-sheet",{attrs:{actions:a.actions,"cancel-text":"取消"},on:{select:a.onSelect,cancel:a.onCancel},model:{value:a.show,callback:function(t){a.show=t},expression:"show"}})],1),e("Selectarea",{attrs:{areaStatus:a.areaStatus},on:{goAreaBack:a.goAreaBack,getuserinfo:a.getUserInfo}}),a.avatarBase64?e("div",{staticClass:"avatar-update-box"},[e("div",{staticClass:"spherical"},[e("img",{attrs:{src:a.avatarBase64}})]),e("div",{staticClass:"action"},[e("div",{staticClass:"flex justify-space-between"},[e("span",{on:{click:a.handleCancel}},[a._v("取消")]),e("span",{on:{click:a.handleOk}},[a._v("确认")])])])]):a._e()],1):a._e()},i=[],n=e("98e6"),r=function(){var a=this,t=a.$createElement,e=a._self._c||t;return a.areaStatus?e("div",{staticClass:"selectarea"},[e("van-nav-bar",{attrs:{"left-arrow":"",title:"选择地区"},on:{"click-left":a.onClickLeft}}),a.data?e("section",{staticClass:"main"},[e("ul",a._l(a.data,(function(t,s){return e("li",{key:s},[e("p",{staticClass:"title"},[a._v(a._s(s))]),e("ul",a._l(t,(function(t,s){return e("li",{key:s,on:{click:function(e){return a.handleClick(t)}}},[e("p",[e("span",[a._v(a._s(t.name))]),e("van-icon",{attrs:{name:"arrow"}})],1)])})),0)])})),0),a.itemData&&a.show?e("div",{staticClass:"item-area"},[e("ul",a._l(a.itemData,(function(t,s){return e("li",{key:s,on:{click:function(e){return a.handleCityClick(t)}}},[e("p",[a._v(a._s(t.name))])])})),0)]):a._e()]):a._e(),e("van-overlay",{attrs:{show:a.show},on:{click:function(t){a.show=!1}}})],1):a._e()},c=[],o=(e("03b2"),{props:["areaStatus"],data:function(){return{show:!1,upid:0,data:"",itemData:"",city:"",province:""}},created:function(){this.getDistrict()},methods:{getDistrict:function(){var a=this;n["a"].loading({message:"加载中...",forbidClick:!0}),this.itemData=[],this.api.getDistrict({token:this.$store.state.userData,upid:this.upid}).then((function(t){n["a"].clear(),0==t.err_code&&(0==a.upid?a.data=t.data:a.itemData=t.data)}))},handleClick:function(a){this.show=!0,this.upid=a.id,this.province=a.name,this.getDistrict()},handleCityClick:function(a){this.city=a.name,this.saveMyInfoByAddress()},saveMyInfoByAddress:function(){var a=this;n["a"].loading({message:"加载中...",forbidClick:!0}),this.api.saveMyInfoByAddress({token:this.$store.state.userData,province:this.province,city:this.city}).then((function(t){n["a"].clear(),a.show=!1,0==t.err_code?a.$emit("getuserinfo",!1):Object(n["a"])(t.err_msg)}))},onClickLeft:function(){this.$emit("goAreaBack",!1)}}}),l=o,u=(e("e561"),e("cb4f"),e("6691")),d=Object(u["a"])(l,r,c,!1,null,"175172b6",null),v=d.exports,f={components:{Selectarea:v},data:function(){return{show:!1,areaStatus:!1,avatarBase64:"",avatarFile:"",actions:[{name:"男",color:"#696D7D",value:1},{name:"女",color:"#696D7D",value:2},{name:"不显示",color:"#696D7D",value:0}],data:""}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var a=this;this.areaStatus=!1,this.api.getUserInfo({token:this.$store.state.userData,uid:""}).then((function(t){0==t.err_code&&(a.data=t.data)}))},handleCancel:function(){this.avatarBase64="",this.avatarFile=""},handleOk:function(){this.postImage(this.avatarFile)},postImage:function(a){var t=this;n["a"].loading({message:"加载中...",forbidClick:!0});var e=new FormData;e.append("token",this.$store.state.userData),e.append("myfile",a),this.api.saveMyAvatar(e).then((function(a){n["a"].clear(),0==a.err_code&&(t.avatarBase64="",t.avatarFile="",t.getUserInfo())})).catch((function(a){Object(n["a"])(a)}))},afterRead:function(a){this.avatarBase64=a.content,this.avatarFile=a.file},goAreaBack:function(a){this.areaStatus=a},handleToEdit:function(a){switch(a){case"1":this.$router.push({path:"/my/editusername"});break;case"2":this.$router.push({path:"/my/editsignature"});break;case"3":this.show=!0;break;case"4":this.areaStatus=!0;break}},saveMyInfoByGender:function(a){var t=this;n["a"].loading({message:"加载中...",forbidClick:!0}),this.api.saveMyInfoByGender({token:this.$store.state.userData,gender:a}).then((function(a){if(n["a"].clear(),t.show=!1,0!=a.err_code)return Object(n["a"])(a.err_msg);t.getUserInfo()}))},onCancel:function(){},onSelect:function(a){this.saveMyInfoByGender(a.value)},onClickLeft:function(){this.$router.go(-1)}}},h=f,p=(e("bbee"),Object(u["a"])(h,s,i,!1,null,"868cd784",null));t["default"]=p.exports},"215e":function(a,t,e){},a181:function(a,t,e){},bbee:function(a,t,e){"use strict";var s=e("a181"),i=e.n(s);i.a},cb4f:function(a,t,e){"use strict";var s=e("215e"),i=e.n(s);i.a},daeb:function(a,t,e){},e561:function(a,t,e){"use strict";var s=e("daeb"),i=e.n(s);i.a}}]);
//# sourceMappingURL=chunk-74c1a710.f62dbd5a.js.map