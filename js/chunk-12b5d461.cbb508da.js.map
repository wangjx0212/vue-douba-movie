{"version":3,"sources":["webpack:///./src/components/my/edituserinfo.vue?fbdc","webpack:///./src/components/my/selectarea.vue?b2bf","webpack:///src/components/my/selectarea.vue","webpack:///./src/components/my/selectarea.vue?bf10","webpack:///./src/components/my/selectarea.vue?4dc5","webpack:///src/components/my/edituserinfo.vue","webpack:///./src/components/my/edituserinfo.vue?21b4","webpack:///./src/components/my/edituserinfo.vue","webpack:///./src/components/my/edituserinfo.vue?3ffd","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/my/selectarea.vue?eb55","webpack:///./src/components/my/selectarea.vue?81ea"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","areaStatus","_e","attrs","afterRead","data","avatar","_v","on","$event","handleToEdit","_s","username","class","bio","gender","resideprovince","residecity","actions","onSelect","onCancel","model","value","callback","$$v","show","expression","goAreaBack","getUserInfo","avatarBase64","handleCancel","handleOk","staticRenderFns","onClickLeft","_l","item","key","item_1","index","handleClick","name","itemData","handleCityClick","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-12b5d461.cbb508da.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data)?_c('div',{staticClass:\"page-index\"},[(!_vm.areaStatus)?_c('div',{},[_c('section',{staticClass:\"main\"},[_c('div',{staticClass:\"avatar-box\"},[_c('van-uploader',{attrs:{\"after-read\":_vm.afterRead}},[_c('img',{attrs:{\"src\":_vm.data.avatar}}),_c('p',[_vm._v(\"点击更换头像\")])])],1),_c('ul',{staticClass:\"list\"},[_c('li',{staticClass:\"item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"昵称\")]),_c('p',{staticClass:\"value\",on:{\"click\":function($event){return _vm.handleToEdit('1')}}},[_vm._v(_vm._s(_vm.data.username)),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('li',{staticClass:\"item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"签名\")]),_c('p',{staticClass:\"value\",class:{'not-value':!_vm.data.bio},on:{\"click\":function($event){return _vm.handleToEdit('2')}}},[_vm._v(_vm._s(_vm.data.bio ? _vm.data.bio:'填写个性签名更容易获得关注')),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('li',{staticClass:\"item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"性别\")]),_c('p',{staticClass:\"value\",class:{'not-value':!_vm.data.gender},on:{\"click\":function($event){return _vm.handleToEdit('3')}}},[_vm._v(_vm._s(_vm.data.gender ? _vm.data.gender : '点击设置')),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('li',{staticClass:\"item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"地区\")]),_c('p',{staticClass:\"value\",class:{'not-value':!_vm.data.resideprovince && !_vm.data.residecity},on:{\"click\":function($event){return _vm.handleToEdit('4')}}},[_vm._v(_vm._s(_vm.data.resideprovince)+\".\"+_vm._s(_vm.data.residecity)+\" \"+_vm._s(!_vm.data.resideprovince && !_vm.data.residecity ? '点击设置' : '')),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)])])]),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"cancel-text\":\"取消\"},on:{\"select\":_vm.onSelect,\"cancel\":_vm.onCancel},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],1):_vm._e(),_c('Selectarea',{attrs:{\"areaStatus\":_vm.areaStatus},on:{\"goAreaBack\":_vm.goAreaBack,\"getuserinfo\":_vm.getUserInfo}}),(_vm.avatarBase64)?_c('div',{staticClass:\"avatar-update-box\"},[_c('div',{staticClass:\"spherical\"},[_c('img',{attrs:{\"src\":_vm.avatarBase64}})]),_c('div',{staticClass:\"action\"},[_c('div',{staticClass:\"flex justify-space-between\"},[_c('span',{on:{\"click\":_vm.handleCancel}},[_vm._v(\"取消\")]),_c('span',{on:{\"click\":_vm.handleOk}},[_vm._v(\"确认\")])])])]):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.areaStatus)?_c('div',{staticClass:\"selectarea\"},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"title\":\"选择地区\"},on:{\"click-left\":_vm.onClickLeft}}),(_vm.data)?_c('section',{staticClass:\"main\"},[_c('ul',_vm._l((_vm.data),function(item,key){return _c('li',{key:key},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(key))]),_c('ul',_vm._l((item),function(item_1,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.handleClick(item_1)}}},[_c('p',[_c('span',[_vm._v(_vm._s(item_1.name))]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)])}),0)])}),0),(_vm.itemData && _vm.show)?_c('div',{staticClass:\"item-area\"},[_c('ul',_vm._l((_vm.itemData),function(item,key){return _c('li',{key:key,on:{\"click\":function($event){return _vm.handleCityClick(item)}}},[_c('p',[_vm._v(_vm._s(item.name))])])}),0)]):_vm._e()]):_vm._e(),_c('van-overlay',{attrs:{\"show\":_vm.show},on:{\"click\":function($event){_vm.show = false}}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"selectarea\" v-if=\"areaStatus\">\n    \n        <van-nav-bar            \n            left-arrow\n            title=\"选择地区\"\n            @click-left=\"onClickLeft\"\n        \n        >\n        </van-nav-bar>\n        <section class=\"main\" v-if=\"data\" >\n            <ul>\n                <li v-for=\"(item,key) in data\" :key=\"key\">\n                    <p class=\"title\">{{key}}</p>\n                    <ul>\n                        <li v-for=\"(item_1,index) in item\" :key=\"index\" @click=\"handleClick(item_1)\">\n                            <p><span>{{item_1.name}}</span><van-icon name=\"arrow\" /></p>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n            <div class=\"item-area\" v-if=\"itemData && show\">\n                <ul>\n                    <li v-for=\"(item,key) in  itemData\" :key=\"key\" @click=\"handleCityClick(item)\">\n                        <p>{{item.name}}</p>\n                    </li>\n                </ul>\n            </div>\n        </section>\n        <van-overlay :show=\"show\" @click=\"show = false\" />\n    </div>\n    \n</template>\n\n<script>\nimport { Toast } from 'vant';\nexport default {\n    props:['areaStatus'],\n    data(){\n        return {\n           show:false,\n           upid:0,\n           data:\"\",\n           itemData:'',\n           city:'',  // 城市\n           province:'',  // 省份\n        }\n    },\n    created(){\n        this.getDistrict();\n    },\n    methods:{\n        getDistrict(){\n            Toast.loading({\n                message: '加载中...',\n                forbidClick: true\n            });\n            this.itemData = [];\n            this.api.getDistrict({\n                token:this.$store.state.userData,\n                upid:this.upid\n            }).then( res => {\n                Toast.clear();\n                if(res.err_code == 0){\n                    if(this.upid == 0){\n                        this.data = res.data\n                    }else{\n                        this.itemData = res.data\n                    }\n                    \n                }\n            })\n        },\n        // 省份点击事件\n        handleClick(v){\n            this.show = true;\n            this.upid = v.id;\n            this.province = v.name\n            this.getDistrict();\n        },\n        // 城市点击事件\n        handleCityClick(v){\n           \n            this.city = v.name;\n            this.saveMyInfoByAddress();\n        },\n        // 编辑地区\n        saveMyInfoByAddress(){\n            Toast.loading({\n                message: '加载中...',\n                forbidClick: true\n            });\n            this.api.saveMyInfoByAddress({\n                token:this.$store.state.userData,\n                province:this.province,\n                city:this.city\n            }).then( res => {\n                Toast.clear();\n                this.show = false;\n                if(res.err_code == 0){\n                   this.$emit('getuserinfo',false)\n                }else {\n                    Toast(res.err_msg)\n                }\n            })\n        },\n        onClickLeft(){\n            this.$emit('goAreaBack',false)\n        }\n    }\n}\n</script>\n<style lang=\"less\" scoped>\n.selectarea{\n    .main{\n        padding: 0 15px;\n        position: relative;\n        > ul{\n            > li{\n                .title{\n                    color: #888888;\n                    font-size: 12px;\n                    background-color: #EEEEEE;\n                    padding: 1px 2px;\n                    margin-bottom: 15px;\n                }\n                ul{\n                    li{\n                        font-size: 16px;\n                        color: #000000;\n                        margin-bottom: 28px;\n                        &:last-child{\n                            margin-bottom: 15px;\n                        }\n                        > p{\n                            display: flex;\n                            justify-content: space-between;\n                            i{\n                                color: #888888\n                            }\n                        }\n                    }\n                    \n                }\n            }\n        }\n        .item-area{\n            position: absolute;\n            left: 90px;\n            right: 0px;\n            bottom: 0px;\n            top: 0px;\n            z-index: 1000;\n            background-color: #ffffff;\n            > ul{\n                padding: 0 27px;\n                color: #000000;\n                font-size: 15px;\n                padding-top: 36px;\n                li{\n                    margin-bottom: 18px;\n                    padding-bottom: 21px;\n                    border-bottom: 1px solid #eeeeee\n                }\n            }\n        }\n    }\n}\n</style>\n<style >\n.selectarea .van-nav-bar{\n    z-index: 1000 !important;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectarea.vue?vue&type=template&id=175172b6&scoped=true&\"\nimport script from \"./selectarea.vue?vue&type=script&lang=js&\"\nexport * from \"./selectarea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectarea.vue?vue&type=style&index=0&id=175172b6&lang=less&scoped=true&\"\nimport style1 from \"./selectarea.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"175172b6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"page-index\" v-if=\"data\">\n        <div class=\"\" v-if=\"!areaStatus\">\n            <!-- <van-nav-bar            \n                left-arrow\n                title=\"编辑个人资料\"\n                @click-left=\"onClickLeft\"\n            >\n            \n            </van-nav-bar> -->\n            <section class=\"main\">\n                <div class=\"avatar-box\" >\n                    <van-uploader    :after-read=\"afterRead\"   >\n                        <img :src=\"data.avatar\" >\n                        <p>点击更换头像</p>\n                    </van-uploader>\n                </div>\n                <ul class=\"list\">\n                    <li class=\"item\">\n                        <p class=\"label\">昵称</p><p class=\"value\" @click=\"handleToEdit('1')\">{{data.username}}<van-icon name=\"arrow\" /></p>\n                    </li>\n                    <li class=\"item\">\n                        <p class=\"label\">签名</p><p class=\"value\" v-bind:class=\"{'not-value':!data.bio}\" @click=\"handleToEdit('2')\">{{data.bio ?  data.bio:'填写个性签名更容易获得关注'}}<van-icon name=\"arrow\" /></p>\n                    </li>\n                    <li class=\"item\">\n                        <p class=\"label\">性别</p><p class=\"value\" v-bind:class=\"{'not-value':!data.gender}\"  @click=\"handleToEdit('3')\">{{data.gender ? data.gender : '点击设置' }}<van-icon name=\"arrow\" /></p>\n                    </li>\n                    <li class=\"item\">\n                        <p class=\"label\">地区</p><p class=\"value\" v-bind:class=\"{'not-value':!data.resideprovince && !data.residecity}\" @click=\"handleToEdit('4')\" >{{data.resideprovince}}.{{data.residecity}} {{!data.resideprovince && !data.residecity ? '点击设置' : ''}}<van-icon name=\"arrow\" /></p>\n                    </li>\n                    <!-- <li class=\"item\">\n                        <p class=\"label\">车友圈</p><p class=\"value\" ><van-icon name=\"arrow\" /></p>\n                    </li> -->\n                </ul>\n            </section>\n            <van-action-sheet\n                v-model=\"show\"\n                :actions=\"actions\"\n                cancel-text=\"取消\"\n                @select=\"onSelect\"\n                @cancel=\"onCancel\"\n            />\n        </div>\n         <Selectarea :areaStatus=\"areaStatus\" @goAreaBack=\"goAreaBack\"  @getuserinfo=\"getUserInfo\" />\n         <div class=\"avatar-update-box\" v-if=\"avatarBase64\">\n             <div class=\"spherical\">\n                 <img :src=\"avatarBase64\" >\n             </div>\n             <div class=\"action\">\n                 <div class=\"flex justify-space-between\">\n                    <span @click=\"handleCancel\">取消</span>\n                    <span @click=\"handleOk\">确认</span>\n                 </div>\n             </div>\n         </div>\n    </div>\n   \n</template>\n\n<script>\nimport { Toast } from 'vant';\nimport Selectarea from './selectarea'\nexport default {\n    components:{\n        Selectarea,\n    },\n    data(){\n        return {\n            show:false,\n            areaStatus:false,\n            avatarBase64:'',\n            avatarFile:'',\n            actions: [\n                { name: '男', color: '#696D7D' ,value:1},\n                { name: '女', color: '#696D7D' ,value:2},\n                { name: '不显示', color: '#696D7D' ,value:0},\n            ],\n            data:''\n        }   \n    },\n    created(){\n        document.title = '编辑个人资料';\n        this.getUserInfo();\n\n    },\n    methods:{\n        // 获取 用户信息\n        getUserInfo(){\n            this.areaStatus = false;\n            this.api.getUserInfo({\n                token:this.$store.state.userData,\n                uid:''\n            }).then( res => {\n\n                if(res.err_code == 0){\n                    this.data = res.data;\n                   \n                }\n            })\n        },\n        // 取消上传头像\n        handleCancel(){\n            this.avatarBase64 = '';\n            this.avatarFile = '';\n        },\n        // 确认上传头像\n        handleOk(){\n            this.postImage(this.avatarFile);\n        },\n        // 上传头像\n        postImage(file){\n            Toast.loading({\n                message: '加载中...',\n                forbidClick: true\n            });\n            let formData = new FormData();\n            formData.append('token',this.$store.state.userData)\n            formData.append('myfile',file)\n            this.api.saveMyAvatar(formData).then(res => {\n                Toast.clear();\n                if(res.err_code == 0){\n                    Toast('修改成功');\n                    setTimeout(() => {\n                        let json ={method:'e_loadPage()'}\n                        console.log(`teldapp://closeWebview?params=`+JSON.stringify(json));\n                        window.location.href= `teldapp://closeWebview?params=`+JSON.stringify(json)\n                        this.avatarBase64 = '';\n                        this.avatarFile = '';\n                    },900)\n                  //  this.getUserInfo();\n                }else {\n              \n                }\n            }).catch(err => {\n                Toast(err)\n            })\n        },\n        afterRead(file){\n        \n            this.avatarBase64 = file.content\n            this.avatarFile = file.file;\n          // this.postImage(file.file);\n        }, \n\n        // 选择地区返回\n        goAreaBack(v){\n            this.areaStatus = v;\n        },\n        handleToEdit(v){\n            switch(v){\n                case '1':\n                    this.$router.push({ path: '/my/editusername' })\n                    break;\n                case '2':\n                    this.$router.push({ path: '/my/editsignature' })\n                    break;    \n                case '3':\n                    this.show = true;\n                    break;    \n                case '4':\n                    this.areaStatus = true;\n                    break;\n            }\n        },\n        saveMyInfoByGender(val){\n            Toast.loading({\n                message: '加载中...',\n                forbidClick: true\n            });\n            this.api.saveMyInfoByGender({\n                token:this.$store.state.userData,\n                gender:val\n            }).then(res => {\n                Toast.clear();\n                this.show = false;\n                if(res.err_code == 0){\n                   // this.getUserInfo();\n                    Toast('修改成功');\n                    setTimeout(() => {\n                        let json ={method:'e_loadPage()'}\n                        console.log(`teldapp://closeWebview?params=`+JSON.stringify(json));\n                        window.location.href= `teldapp://closeWebview?params=`+JSON.stringify(json)\n                    },900)                    \n                }else {\n                    return Toast(res.err_msg);\n                }\n            })\n        },\n        onCancel(){\n\n        },\n        onSelect(v){\n            this.saveMyInfoByGender(v.value);\n        },\n        onClickLeft(){\n            this.$router.go(-1)\n        },\n\n    }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.page-index{\n    .main{\n        padding-top: 50px;\n\n        .avatar-box{\n            text-align: center;\n            img{\n                width: 60px;\n                height: 60px;\n                border-radius: 100% 100%;\n                object-fit: cover;\n                margin-bottom: 15px;\n            }\n            p{\n                font-size: 12px;\n                color: #4E5578;\n                margin-bottom: 40px\n            }\n        }\n        .list{\n            padding: 0 15px;\n            li{\n                display: flex;\n                justify-content:space-between;\n                margin-bottom: 42px;\n                .label{\n                    color: #000000;\n                    font-size: 15px;\n                }\n                .value{\n                    color: #010101;\n                    font-size: 15px;\n                    i{\n                        color: #888888;\n                        display: inline-block;\n                        margin-left: 10px;\n                    }\n                }\n                .not-value{\n                    color: #D1D1D1\n                }\n                \n            }\n        }\n\n    }\n    .avatar-update-box{\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        background-color: #000000;\n        .spherical{\n            width: 343px;\n            height: 343px;\n            background: #fff;\n            position: relative;\n            top: 90px;\n            left: 16px;\n            border-radius: 100% 100%;\n            img{\n                width: 100%;\n                height: 100%;\n                border-radius: 100% 100%\n            }\n        }\n        .action{\n            position: fixed;\n          \n            left: 15px;\n            right: 15px;\n            bottom: 32px;\n            div{\n                color: #fff;\n                font-size: 18px;\n            }\n        }\n    }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edituserinfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edituserinfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edituserinfo.vue?vue&type=template&id=69d7b292&scoped=true&\"\nimport script from \"./edituserinfo.vue?vue&type=script&lang=js&\"\nexport * from \"./edituserinfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edituserinfo.vue?vue&type=style&index=0&id=69d7b292&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69d7b292\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edituserinfo.vue?vue&type=style&index=0&id=69d7b292&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edituserinfo.vue?vue&type=style&index=0&id=69d7b292&lang=less&scoped=true&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=style&index=0&id=175172b6&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=style&index=0&id=175172b6&lang=less&scoped=true&\""],"sourceRoot":""}