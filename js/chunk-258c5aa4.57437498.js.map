{"version":3,"sources":["webpack:///./src/components/specialtopic/list.vue?b3d9","webpack:///src/components/specialtopic/list.vue","webpack:///./src/components/specialtopic/list.vue?5869","webpack:///./src/components/specialtopic/list.vue","webpack:///./src/components/specialtopic/list.vue?f275","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","pic","_v","_s","views","replies","finished","on","onLoad","model","value","callback","$$v","loading","expression","_l","item","key","$event","handleToDetails","tid","avatar","is_ident_icon","_e","author","class","is_carvip","icon_iscarvip","level","icon_label_d","extcredits2","handleMore","showTotal","ref","refInFor","subject","class_name","showTotalIntro","exchangeButton","down","up","attachment","image_list","length","ImagePreview","item_1","index","video_heng_shu","video","_f","timestamp","post","addZan","is_zan","zan","cai","key_1","message","actions","onSelect","onCancel","show","staticRenderFns","props","data","name","showExchangeButton","introduce","datalist","allpage","parameter","token","type","typeid","order","page_size","page_index","watch","$nextTick","mounted","document","title","methods","console","log","$store","state","indexUrl","onClickLeft","$router","go","squaresItem","images","startPosition","api","parseInt","getRem","rem","handleClickAll","dispalyAll","handleClick","filters","timeformat","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-258c5aa4.57437498.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"square\"},[_c('div',{staticClass:\"bg\"},[_c('img',{staticClass:\"bg-image\",attrs:{\"src\":_vm.pic}}),_c('div',{staticClass:\"other\"},[_c('div',{staticClass:\"views\"},[_vm._v(_vm._s(_vm.views))]),_c('div',{staticClass:\"replies\"},[_vm._v(_vm._s(_vm.replies))])])]),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.datalist),function(item,key){return _c('div',{key:key,staticClass:\"list\"},[_c('div',{staticClass:\"header\",on:{\"click\":function($event){return _vm.handleToDetails(item.tid)}}},[_c('div',{staticClass:\"avatar-box\"},[_c('img',{staticClass:\"portrait_img\",attrs:{\"src\":item.avatar,\"alt\":\"\"}}),(item.is_ident_icon == 1)?_c('img',{staticClass:\"isvip\",attrs:{\"src\":require(\"../../assets/images/icon_isvip.png\")}}):_vm._e()]),_c('div',{staticClass:\"header_center\"},[_c('span',{staticClass:\"header_center_name\"},[_vm._v(_vm._s(item.author))]),_c('div',{staticClass:\"header_center_label\"},[_c('div',{staticClass:\"label_grade\"},[_c('img',{staticClass:\"label_grade_img\",class:{'opacity_0':item.is_carvip != 1 },attrs:{\"src\":item.is_carvip == 1 ? _vm.icon_iscarvip : '',\"alt\":\"\"}}),_c('span',{staticClass:\"label_grade_name\"},[_vm._v(_vm._s(item.level))])]),_c('div',{staticClass:\"label_heat\"},[_c('img',{staticClass:\"label_heat_img\",attrs:{\"src\":_vm.icon_label_d,\"alt\":\"\"}}),_c('span',{staticClass:\"label_grade_name\"},[_vm._v(_vm._s(item.extcredits2)+\"°\")])])])]),_c('van-icon',{staticClass:\"more\",attrs:{\"size\":\"30px\",\"name\":\"ellipsis\"},on:{\"click\":function($event){return _vm.handleMore()}}})],1),_c('div',{staticClass:\"content\",on:{\"click\":function($event){return _vm.handleToDetails(item.tid)}}},[_c('div',{class:_vm.showTotal ? 'total-introduce' : 'detailed-introduce'},[_c('div',{ref:\"desc\",refInFor:true,staticClass:\"intro-content\",attrs:{\"title\":item.subject}},[(item.subject)?_c('span',{staticClass:\"merchant-desc\"},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.class_name))]),_vm._v(_vm._s(item.subject))]):_vm._e(),(_vm.showExchangeButton)?_c('div',{staticClass:\"unfold\",on:{\"click\":_vm.showTotalIntro}},[_c('p',[_vm._v(_vm._s(_vm.exchangeButton ? '展开' : '收起'))]),_c('img',{attrs:{\"src\":_vm.exchangeButton?_vm.down:_vm.up,\"alt\":\"\"}})]):_vm._e()])])]),(item.attachment == 2)?_c('div',{staticClass:\"img\"},[(item.image_list.length == 4)?_c('div',[_c('div',[_c('img',{staticClass:\"img_content\",attrs:{\"src\":item.image_list[0]},on:{\"click\":function($event){return _vm.ImagePreview(item.image_list,0)}}}),_c('img',{staticClass:\"img_content\",attrs:{\"src\":item.image_list[1]},on:{\"click\":function($event){return _vm.ImagePreview(item.image_list,1)}}})]),_c('div',[_c('img',{staticClass:\"img_content\",attrs:{\"src\":item.image_list[2]},on:{\"click\":function($event){return _vm.ImagePreview(item.image_list,2)}}}),_c('img',{staticClass:\"img_content\",attrs:{\"src\":item.image_list[3]},on:{\"click\":function($event){return _vm.ImagePreview(item.image_list,3)}}})])]):_c('div',_vm._l((item.image_list),function(item_1,index){return _c('img',{key:index,staticClass:\"img_content\",attrs:{\"src\":item_1,\"alt\":\"\"},on:{\"click\":function($event){return _vm.ImagePreview(item.image_list,index)}}})}),0)]):_vm._e(),(item.attachment == 1)?_c('div',{staticClass:\"video\",class:{'video_1':item.video_heng_shu == 1,'video_2':item.video_heng_shu == 0}},[_c('video',{attrs:{\"src\":item.video,\"poster\":item.image_list[0],\"x5-video-player-type\":\"h5\",\"x5-video-orientation\":\"landscape|portrait\",\"controls\":\"controls\"}})]):_vm._e(),_c('div',{staticClass:\"usage\"},[_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm._f(\"timeformat\")(item.timestamp)))]),_c('div',{staticClass:\"news\"},[_c('div',{staticClass:\"usage_news\",on:{\"click\":function($event){return _vm.handleToDetails(item.tid)}}},[_c('img',{staticClass:\"usage_news_img\",attrs:{\"src\":require(\"../../assets/images/news.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(item.post ? item.post.length : 0))])]),_c('div',{staticClass:\"usage_news\",on:{\"click\":function($event){return _vm.addZan(item,1)}}},[(item.is_zan == 1)?_c('img',{staticClass:\"usage_news_img\",attrs:{\"src\":require(\"../../assets/images/icon_love_selection.png\"),\"alt\":\"\"}}):_c('img',{staticClass:\"usage_news_img\",attrs:{\"src\":require(\"../../assets/images/icon_love_normal.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(item.zan))])]),_c('div',{staticClass:\"usage_news usage_news_right\",on:{\"click\":function($event){return _vm.addZan(item,2)}}},[(item.is_zan == 2)?_c('img',{staticClass:\"usage_news_img\",attrs:{\"src\":require(\"../../assets/images/icon_stepon_selected.png\"),\"alt\":\"\"}}):_c('img',{staticClass:\"usage_news_img\",attrs:{\"src\":require(\"../../assets/images/icon_stepon_normal.png\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(item.cai))])])])]),(item.post ? item.post.length:true)?_c('div',{staticClass:\"information\",on:{\"click\":function($event){return _vm.handleToDetails(item.tid)}}},_vm._l((item.post),function(item_1,key_1){return _c('div',{key:key_1,staticClass:\"information_text\"},[_c('span',{staticClass:\"information_title\"},[_vm._v(_vm._s(item_1.author)+\"：\")]),_c('span',{staticClass:\"information_content\"},[_vm._v(_vm._s(item_1.message))])])}),0):_vm._e()])}),0),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"cancel-text\":\"取消\"},on:{\"select\":_vm.onSelect,\"cancel\":_vm.onCancel},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"square\">\n    <!-- <van-nav-bar            \n        left-arrow\n        title=\"E区专题\"\n        @click-left=\"onClickLeft\"\n    >    \n    </van-nav-bar> -->\n    <div class=\"bg\">      \n      <img class=\"bg-image\" :src=\"pic\" >\n      <div class=\"other\">\n        <div class=\"views\">{{views}}</div>\n        <div class=\"replies\">{{replies}}</div>\n      </div>\n    </div>\n    <van-list\n      v-model=\"loading\"\n      :finished=\"finished\"\n      finished-text=\"没有更多了\"\n      @load=\"onLoad\"\n    >\n      <div class=\"list\"  v-for=\"(item,key) in datalist \" :key=\"key\" >\n        <div class=\"header\" @click=\"handleToDetails(item.tid)\"> \n          <div class=\"avatar-box\"> \n            <img :src=\"item.avatar\" class=\"portrait_img\" alt />\n            <img class=\"isvip\" src=\"../../assets/images/icon_isvip.png\"  v-if=\"item.is_ident_icon == 1\" >\n          </div>\n          <div class=\"header_center\">\n            <span class=\"header_center_name\">{{item.author}}</span>\n            <div class=\"header_center_label\">\n              <div class=\"label_grade\">\n                <img class=\"label_grade_img\" :class=\"{'opacity_0':item.is_carvip != 1 }\" :src=\"item.is_carvip == 1 ? icon_iscarvip : ''\" alt  />\n                <span class=\"label_grade_name\" >{{item.level}}</span>\n              </div>\n              <div class=\"label_heat\">\n                <img class=\"label_heat_img\" :src='icon_label_d' alt />\n                <span class=\"label_grade_name\">{{item.extcredits2}}°</span>\n              </div>\n            </div>\n          </div>\n          <van-icon class=\"more\" size=\"30px\" name=\"ellipsis\"  @click=\"handleMore()\" />\n        </div>\n        <div class=\"content\" @click=\"handleToDetails(item.tid)\" >\n          <div :class=\"showTotal ? 'total-introduce' : 'detailed-introduce'\">\n          \n            <div class=\"intro-content\" :title=\"item.subject\" ref=\"desc\">\n              <span class=\"merchant-desc\" v-if=\"item.subject\"><span class=\"name\">{{item.class_name}}</span>{{item.subject}}</span>\n              <div class=\"unfold\" @click=\"showTotalIntro\" v-if=\"showExchangeButton\">\n                <p>{{exchangeButton ? '展开' : '收起'}}</p>\n                <img :src=\"exchangeButton?down:up\" alt=\"\">\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"img\" v-if=\"item.attachment == 2\"> \n          <div v-if=\"item.image_list.length == 4\">\n            <div>\n              <img class=\"img_content\" :src=\"item.image_list[0]\" @click=\"ImagePreview(item.image_list,0)\"  >\n              <img class=\"img_content\" :src=\"item.image_list[1]\" @click=\"ImagePreview(item.image_list,1)\"  >\n            </div>\n            <div>\n              <img class=\"img_content\" :src=\"item.image_list[2]\" @click=\"ImagePreview(item.image_list,2)\"  >\n              <img class=\"img_content\" :src=\"item.image_list[3]\" @click=\"ImagePreview(item.image_list,3)\"  >\n            </div>\n          </div>\n          <div v-else >\n            <img v-for=\"(item_1, index) in item.image_list\" :key=\"index\" class=\"img_content\" :src=\"item_1\" alt=\"\" @click=\"ImagePreview(item.image_list,index)\">\n          </div>\n          \n        </div>\n        <div class=\"video\" v-bind:class=\"{'video_1':item.video_heng_shu == 1,'video_2':item.video_heng_shu == 0}\" v-if=\"item.attachment == 1\">\n          <video :src=\"item.video\" :poster=\"item.image_list[0]\" x5-video-player-type=\"h5\" x5-video-orientation=\"landscape|portrait\" controls=\"controls\"></video>\n        </div>\n        <div class=\"usage\">\n          <span class=\"time\">{{item.timestamp | timeformat()}}</span>\n        <div class ='news'>\n            <div class=\"usage_news\" @click=\"handleToDetails(item.tid)\" >\n              <img class=\"usage_news_img\" src=\"../../assets/images/news.png\" alt=\"\">\n              <span>{{item.post ? item.post.length : 0}}</span>\n            </div>\n            <div class=\"usage_news\" @click=\"addZan(item,1)\">\n              <img class=\"usage_news_img\" v-if=\"item.is_zan == 1\" src=\"../../assets/images/icon_love_selection.png\" alt=\"\">\n              <img class=\"usage_news_img\" v-else src=\"../../assets/images/icon_love_normal.png\" alt=\"\">\n              <span>{{item.zan}}</span>\n            </div>\n            <div class=\"usage_news usage_news_right\" @click=\"addZan(item,2)\">\n              <img class=\"usage_news_img\" v-if=\"item.is_zan == 2\"  src=\"../../assets/images/icon_stepon_selected.png\" alt=\"\">\n              <img class=\"usage_news_img\" v-else src=\"../../assets/images/icon_stepon_normal.png\" alt=\"\">\n              <span>{{item.cai}}</span>\n            </div>\n        </div>\n        </div>\n        <div class=\"information\" v-if=\"item.post ? item.post.length:true\" @click=\"handleToDetails(item.tid)\">\n          <div class=\"information_text\" v-for=\"(item_1,key_1) in item.post\" :key=\"key_1\" >\n            <span class=\"information_title\">{{item_1.author}}：</span>\n            <span class=\"information_content\">{{item_1.message}}</span>\n          </div>\n        </div>\n      </div>\n    </van-list>\n    <van-action-sheet v-model=\"show\" :actions=\"actions\" @select=\"onSelect\" cancel-text=\"取消\" @cancel=\"onCancel\" />\n  </div>\n</template>\n<script>\n\nimport { ImagePreview,Toast } from 'vant';\nimport {getFromNom} from '@js/moment'\nexport default {\n  props:['itemdata'],\n  data() {\n    return {\n      pic:this.$route.query.pic,\n      views:this.$route.query.views,\n      replies:this.$route.query.replies,\n      name:this.$route.query.name,\n      down:require('../../assets/images/arrow_down.png'),\n      up:require('../../assets/images/arrow_up.png'),\n      icon_iscarvip:require('../../assets/images/icon_iscarvip.png'),\n      icon_label_d:require('../../assets/images/icon_label.png'),\n      show: false,\n      loading:false,\n      finished:false,\n      actions: [\n        {\n          name: '私聊'\n        },\n        {\n          name: '关注'\n        }\n      ],      \n      showTotal: true,\n      exchangeButton: false,\n      showExchangeButton: false,\n      introduce: \"\",\n      datalist:[], // 列表数据\n      allpage:-1,\n      parameter:{\n        token:this.$store.state.userData,\n        type:0,\n        typeid:this.$route.query.typeid,\n        order:0,\n        page_size:10,\n        page_index:0     \n      }\n    };\n  },\n  watch: {\n    introduce: function() {\n      this.$nextTick(\n        function() {\n          let rem = parseFloat(this.getRem());\n          if (!this.$refs.desc) {\n            return;\n          }\n          let descHeight = window\n            .getComputedStyle(this.$refs.desc)\n            .height.replace(\"px\", \"\");\n          if (descHeight > 5.25 * rem) {\n            // console.log('超过了四行');\n            // 显示展开收起按钮\n            this.showExchangeButton = true;\n            this.exchangeButton = true;\n            // 不是显示所有\n            this.showTotal = false;\n          } else {\n            // 不显示展开收起按钮\n            this.showExchangeButton = false;\n            // 没有超过四行就显示所有\n            this.showTotal = true;\n            // console.log('showExchangeButton', this.showExchangeButton);\n            // console.log('showTotal', this.showTotal);\n          }\n        }.bind(this)\n      );\n    }\n  },\n  mounted() {\n    document.title = 'E区专题';\n      this.squaresItem();\n  },\n  methods: {\n\n    handleToDetails(tid){\n      let url = `${this.$store.state.indexUrl+'square/details?tid='+tid+'&'+this.$store.state.appParams}`;\n      console.log(this.$store.state.indexUrl);\n      if(!this.$store.state.userData){\n          window.location.href= \"teldapp://login\"\n      }else {\n          let json = {url:url,share:'0'};\n          window.location.href= `teldapp://newWebview?params=`+JSON.stringify(json)\n        //  this.$router.push({path:'/square/details',query:{tid:tid}})\n      }\n     // this.$router.push({path:'/square/details',query:{tid:tid,name:this.name}})\n    },\n    onClickLeft(){\n      this.$router.go(-1)\n    },\n    onLoad(){\n      if(this.datalist.length){\n        this.parameter.page_index++;\n        this.squaresItem();\n      }\n      if(this.parameter.page_index == this.allpage){\n        this.finished = true\n      }\n      \n    },\n    // 图片浏览\n    ImagePreview(v,key){\n      ImagePreview({\n        images:v,\n        startPosition:key\n      })\n    },\n    // 点赞或踩\n    addZan(item,type){\n      let tid = item.tid,\n          token = this.$store.state.userData;\n      Toast.loading({\n          message: '加载中...',\n          forbidClick: true\n      });             \n      this.api.addZan({token,tid,type}).then(res => {\n        Toast.clear();\n        if(res.err_code == 0){\n          if(item.is_zan == 1){\n            if(type == 1){\n              item.zan = parseInt(item.zan)-1\n              item.is_zan = 0;\n            }else if(type == 2){\n              item.is_zan = type;\n              item.zan = parseInt(item.zan)-1\n              item.cai = parseInt(item.cai)+1\n            }\n          }else if(item.is_zan == 2){\n              if(type == 1){\n                item.is_zan = type;\n                item.zan = parseInt(item.zan)+1\n                item.cai = parseInt(item.cai)-1\n              }else if(type == 2){\n                item.is_zan = 0;\n                item.cai = parseInt(item.cai)-1\n              }     \n          }else {\n            if(type == 1){\n              item.zan = parseInt(item.zan)+1\n\n            }else if(type == 2){\n              item.cai = parseInt(item.cai)+1\n            }\n            item.is_zan = type;\n          }\n          if(item.is_zan){\n\n          }\n          \n          //Toast(res.data.msg)\n        }else {\n          Toast(res.err_msg)\n        }\n      })\n    },\n    // 广场列表\n    squaresItem(){\n        this.api.squaresItem(this.parameter).then( res => {\n          if(res.err_code == 0){\n            this.allpage = res.data.total_page;\n            this.datalist =  [...this.datalist,...res.data.thread];\n          }\n          \n          this.loading = false;\n        })\n    },\n    // 内容展开\n    showTotalIntro() {\n      this.showTotal = !this.showTotal;\n      this.exchangeButton = !this.exchangeButton;\n    },\n    //文章高度\n    getRem(){\n      const defaultRem = 16;\n      let winWidth = window.innerWidth;\n      let rem = (winWidth / 375) * defaultRem;\n      return rem;\n    },\n    //文章查看更多\n    handleClickAll() {\n      this.dispalyAll = true;\n    },\n    //文章查看收起\n    handleClick() {\n      this.dispalyAll = false;\n    },\n    onSelect(item){\n      this.show = false;\n      \n    },\n    onCancel(){\n      this.show = false;\n    },\n    // 更多  \n    handleMore(){\n      this.show = true;\n    }\n  },\n  filters:{\n    timeformat(v){\n      if(v){\n        return getFromNom(v*1000)\n      }else {\n        return ''\n      }\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped rel=\"stylesheet/less\">\n.square {\n  display: flex;\n  flex-direction: column;\n  padding-bottom:40px; \n  .bg{\n    height: 286px;\n    width: 100%;\n    position: relative;\n    .bg-image{\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n    .other{\n      justify-content: space-between;\n      position: absolute;\n      bottom: 12px;\n      left: 15px;\n      .views{\n          background-image: url('../../assets/images/see.png');\n          display: inline-block;\n          color: #424E77;\n          background-size: 16px 13px;\n          background-repeat: no-repeat;\n          padding-left: 18px;\n          background-position-y: 50%;\n          \n          font-size: 15px;\n          margin-right: 20px;\n      }\n      .replies{\n          background-image: url('../../assets/images/news.png');\n          display: inline-block;\n          color: #424E77;\n          background-size: 16px 16px;\n          background-repeat: no-repeat;\n          padding-left: 20px;\n          background-position-y: 50%;   \n          font-size: 12px;                     \n      }                            \n  }\n  }\n  .list{\n    padding: 0 15px;\n    margin-bottom: 42px;\n  }\n}\n.header {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  /* flex-wrap: nowrap; */\n  width: 100%;\n  align-items: center;\n}\n.header_center {\n  display: flex;\n  flex-direction: column;\n  width: 250px;\n}\n.avatar-box{\n  position: relative;\n  margin-right: 13px;\n}\n.portrait_img {\n  width: 42px;\n  height: 42px;\n  border-radius: 100% 100%;\n  flex: none;\n  border: 1px solid;\n}\n.isvip{\n  position: absolute;\n  width: 14px;\n  height: 14px;\n  bottom: 6px;\n  right: 1px;\n}\n.header_center_label {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  margin-top: 4.5px;\n}\n.header_center_name {\n  font-size: 16px;\n  color: #4e5578;\n  margin-top: 16px;\n}\n.label_grade {\n  // width: 92.5px;\n  height: 15px;\n  padding-right: 4px;\n  border: 1px solid #0ec6f1;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: center;\n  justify-content: center;\n}\n.label_grade_img {\n  width: 10px;\n  border: none;\n  height: 9px;\n}\n.label_grade_name {\n  font-size: 10px;\n  color: #0ec6f1;\n}\n.isCarvip{\n  background-image: url('../../assets/images/icon_iscarvip.png');\n  background-repeat: no-repeat;\n  background-size: 11px 10px;\n  background-position-y: 46%;\n  background-position-x: 1px; \n  padding-left: 14px;\n}\n.label_heat {\n  // width: 37.5px;\n  padding-right: 2px;\n  height: 15px;\n  border: 1px solid #0ec6f1;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n}\n.label_heat_img {\n  width: 8px;\n  height: 13px;\n}\n.content {\n  margin: 5px 0 0 55px;\n  display: flex;\n  flex-direction: column;\n  align-items: left;\n}\n.content_display_all {\n  max-width: 295px;\n  word-break: break-all;\n  margin-bottom: 7.5px;\n  overflow: visible;\n}\n.total-introduce {\n  height: auto;\n  overflow: hidden;\n  font-size: 15px;\n  color: #434343;\n  margin: 5px;\n  .intro-content {\n    .merchant-desc {\n      width: 100%;\n      line-height: 11px;\n    }\n    .name{\n        color: #0EC6F1;\n    }\n  }\n  .unfold {\n    display: block;\n    z-index: 11;\n    float: right;\n    width: 100%;\n    height: 20px;\n    display: flex;\n    justify-content: center;\n    img {\n         width: 20px;\n         height: 20px;\n    }\n  }\n}\n.detailed-introduce {\n  font-size: 15px;\n  color: #434343;\n  position: relative;\n  overflow: hidden;\n  .intro-content {\n    // 最大高度设为4倍的行间距\n    max-height: 125px;\n    font-size: 15px;\n    line-height: 20px;\n    word-wrap: break-word;\n    /*强制打散字符*/\n    word-break: break-all;\n    background: #ffffff;\n    /*同背景色*/\n    color: #ffffff;\n    overflow: hidden;\n    .merchant-desc {\n      width: 100%;\n      line-height: 10px;\n    }\n    &:after,\n      // 这是展开前实际显示的内容\n      &:before {\n      content: attr(title);\n      position: absolute;\n      left: 0;\n      top: 0;\n      width: 100%;\n      color: #434343;\n      // overflow: hidden;\n    }\n    // 把最后最后一行自身的上面三行遮住\n    &:before {\n      display: block;\n      overflow: hidden;\n      z-index: 1;\n      max-height: 95px;\n      background: #ffffff;\n    }\n    &:after {\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      height: 40px;\n      /*截取行数*/\n      -webkit-line-clamp: 4;\n      text-overflow: ellipsis;\n      -webkit-box-sizing: border-box;\n      box-sizing: border-box;\n      /*行首缩进字符数，值为[(截取行数-1)*尾部留空字符数]*/\n      text-indent: -12em;\n      /*尾部留空字符数*/\n      padding-right: 4em;\n    }\n    .unfold {\n      z-index: 11;\n      width: 100%;\n      height: 20px;\n      outline: 0;\n      position: absolute;\n      right: 0;\n      bottom: 0;\n      display: flex;\n      justify-content: center;\n      img {\n         width: 20px;\n         height: 20px;\n      }\n    }\n  }\n}\n.img{\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  margin-left: 55px\n}\n.video{\n  margin-left: 55px;\n  width: 82.5px;\n  height: 82.5px;\n  video{\n    width: 100%;\n    height: 100%;\n  }\n}\n  .video_1{\n    width: 183px;\n    height: 240px;\n  }\n  .video_2{\n    width: 230px;\n    height: 160px;\n  }  \n.img_content{\n  width: 82.5px;\n  height: 82.5px;\n  margin-bottom: 5px;\n  object-fit:cover\n}\n.img_content:nth-of-type(2) {\n  margin-left: 5px\n}\n.img_content:nth-of-type(5) {\n  margin-left: 5px\n}\n.img_content:nth-of-type(6) {\n  margin-left: 5px\n}\n.img_content:nth-of-type(8) {\n  margin-left: 5px\n}\n.img_content:nth-of-type(9) {\n  margin-left: 5px\n}\n.img_content:nth-of-type(3) {\n  margin-left: 5px\n}\n.usage{\n  margin-left: 55px;\n  height: 20px;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n  justify-content: space-between;\n  margin-top: 12.5px;\n}\n.news{\n  display: flex;\n  flex-direction: row;\n}\n.time{\n  color: #888888;\n  font-size: 12px;\n}\n.usage_news{\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.usage_news_img{\n  width: 16px;\n  height: 16px;\n  margin-right: 3px\n}\n.usage_news>span {\n  color: #424E77;\n  margin-right: 22px;\n  font-size: 12px;\n}\n.usage_news_right{\n  margin-right: 12.5px;\n}\n.information{\n  background-color: #f0f0f0;\n  border-radius: 5px;\n  margin:18px 0 0 55px;\n  padding-bottom: 12.5px;\n}\n.information_text {\n  padding: 12.5px 15px 0;\n  font-size: 13px\n}\n.information_title{\n  color: #424E77;\n}\n.information_content{\n  color: #111111 ;\n  word-break: break-all\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=60264bd7&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=60264bd7&lang=less&scoped=true&rel=stylesheet%2Fless&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"60264bd7\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=60264bd7&lang=less&scoped=true&rel=stylesheet%2Fless&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=style&index=0&id=60264bd7&lang=less&scoped=true&rel=stylesheet%2Fless&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}