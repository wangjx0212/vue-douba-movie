{"version":3,"sources":["webpack:///./src/components/my/edituserinfo.vue?1240","webpack:///./src/components/my/selectarea.vue?211e","webpack:///src/components/my/selectarea.vue","webpack:///./src/components/my/selectarea.vue?bf10","webpack:///./src/components/my/selectarea.vue","webpack:///src/components/my/edituserinfo.vue","webpack:///./src/components/my/edituserinfo.vue?21b4","webpack:///./src/components/my/edituserinfo.vue","webpack:///./src/components/my/selectarea.vue?0138","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/my/selectarea.vue?eb55","webpack:///./src/components/my/edituserinfo.vue?f1a3"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","areaStatus","_e","attrs","afterRead","data","avatar","_v","on","$event","handleToEdit","_s","username","class","bio","gender","resideprovince","residecity","actions","onSelect","onCancel","model","value","callback","$$v","show","expression","goAreaBack","getUserInfo","avatarBase64","handleCancel","handleOk","staticRenderFns","onClickLeft","_l","item","key","item_1","index","handleClick","name","itemData","handleCityClick","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error"],"mappings":"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","file":"js/chunk-7dea0de4.47034232.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data)?_c('div',{staticClass:\"page-index\"},[(!_vm.areaStatus)?_c('div',{},[_c('section',{staticClass:\"main\"},[_c('div',{staticClass:\"avatar-box\"},[_c('van-uploader',{attrs:{\"after-read\":_vm.afterRead}},[_c('img',{attrs:{\"src\":_vm.data.avatar}}),_c('p',[_vm._v(\"点击更换头像\")])])],1),_c('ul',{staticClass:\"list\"},[_c('li',{staticClass:\"item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"昵称\")]),_c('p',{staticClass:\"value\",on:{\"click\":function($event){return _vm.handleToEdit('1')}}},[_vm._v(_vm._s(_vm.data.username)),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('li',{staticClass:\"item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"签名\")]),_c('p',{staticClass:\"value\",class:{'not-value':!_vm.data.bio},on:{\"click\":function($event){return _vm.handleToEdit('2')}}},[_vm._v(_vm._s(_vm.data.bio ? _vm.data.bio:'填写个性签名更容易获得关注')),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('li',{staticClass:\"item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"性别\")]),_c('p',{staticClass:\"value\",class:{'not-value':!_vm.data.gender},on:{\"click\":function($event){return _vm.handleToEdit('3')}}},[_vm._v(_vm._s(_vm.data.gender ? _vm.data.gender : '点击设置')),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)]),_c('li',{staticClass:\"item\"},[_c('p',{staticClass:\"label\"},[_vm._v(\"地区\")]),_c('p',{staticClass:\"value\",class:{'not-value':!_vm.data.resideprovince && !_vm.data.residecity},on:{\"click\":function($event){return _vm.handleToEdit('4')}}},[_vm._v(_vm._s(_vm.data.resideprovince)+\".\"+_vm._s(_vm.data.residecity)+\" \"+_vm._s(!_vm.data.resideprovince && !_vm.data.residecity ? '点击设置' : '')),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)])])]),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"cancel-text\":\"取消\"},on:{\"select\":_vm.onSelect,\"cancel\":_vm.onCancel},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}})],1):_vm._e(),_c('Selectarea',{attrs:{\"areaStatus\":_vm.areaStatus},on:{\"goAreaBack\":_vm.goAreaBack,\"getuserinfo\":_vm.getUserInfo}}),(_vm.avatarBase64)?_c('div',{staticClass:\"avatar-update-box\"},[_c('div',{staticClass:\"spherical\"},[_c('img',{attrs:{\"src\":_vm.avatarBase64}})]),_c('div',{staticClass:\"action\"},[_c('div',{staticClass:\"flex justify-space-between\"},[_c('span',{on:{\"click\":_vm.handleCancel}},[_vm._v(\"取消\")]),_c('span',{on:{\"click\":_vm.handleOk}},[_vm._v(\"确认\")])])])]):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.areaStatus)?_c('div',{staticClass:\"selectarea\"},[_c('van-nav-bar',{attrs:{\"left-arrow\":\"\",\"title\":\"选择地区\"},on:{\"click-left\":_vm.onClickLeft}}),(_vm.data)?_c('section',{staticClass:\"main\"},[_c('ul',_vm._l((_vm.data),function(item,key){return _c('li',{key:key},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(key))]),_c('ul',_vm._l((item),function(item_1,index){return _c('li',{key:index,on:{\"click\":function($event){return _vm.handleClick(item_1)}}},[_c('p',[_c('span',[_vm._v(_vm._s(item_1.name))]),_c('van-icon',{attrs:{\"name\":\"arrow\"}})],1)])}),0)])}),0),(_vm.itemData && _vm.show)?_c('div',{staticClass:\"item-area\"},[_c('ul',_vm._l((_vm.itemData),function(item,key){return _c('li',{key:key,on:{\"click\":function($event){return _vm.handleCityClick(item)}}},[_c('p',[_vm._v(_vm._s(item.name))])])}),0)]):_vm._e()]):_vm._e(),_c('van-overlay',{attrs:{\"show\":_vm.show},on:{\"click\":function($event){_vm.show = false}}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"selectarea\" v-if=\"areaStatus\">\r\n    \r\n        <van-nav-bar            \r\n            left-arrow\r\n            title=\"选择地区\"\r\n            @click-left=\"onClickLeft\"\r\n        \r\n        >\r\n        </van-nav-bar>\r\n        <section class=\"main\" v-if=\"data\" >\r\n            <ul>\r\n                <li v-for=\"(item,key) in data\" :key=\"key\">\r\n                    <p class=\"title\">{{key}}</p>\r\n                    <ul>\r\n                        <li v-for=\"(item_1,index) in item\" :key=\"index\" @click=\"handleClick(item_1)\">\r\n                            <p><span>{{item_1.name}}</span><van-icon name=\"arrow\" /></p>\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n            </ul>\r\n            <div class=\"item-area\" v-if=\"itemData && show\">\r\n                <ul>\r\n                    <li v-for=\"(item,key) in  itemData\" :key=\"key\" @click=\"handleCityClick(item)\">\r\n                        <p>{{item.name}}</p>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </section>\r\n        <van-overlay :show=\"show\" @click=\"show = false\" />\r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'vant';\r\nexport default {\r\n    props:['areaStatus'],\r\n    data(){\r\n        return {\r\n           show:false,\r\n           upid:0,\r\n           data:\"\",\r\n           itemData:'',\r\n           city:'',  // 城市\r\n           province:'',  // 省份\r\n        }\r\n    },\r\n    created(){\r\n        this.getDistrict();\r\n    },\r\n    methods:{\r\n        getDistrict(){\r\n            Toast.loading({\r\n                message: '加载中...',\r\n                forbidClick: true\r\n            });\r\n            this.itemData = [];\r\n            this.api.getDistrict({\r\n                token:this.$store.state.userData,\r\n                upid:this.upid\r\n            }).then( res => {\r\n                Toast.clear();\r\n                if(res.err_code == 0){\r\n                    if(this.upid == 0){\r\n                        this.data = res.data\r\n                    }else{\r\n                        this.itemData = res.data\r\n                    }\r\n                    \r\n                }\r\n            })\r\n        },\r\n        // 省份点击事件\r\n        handleClick(v){\r\n            this.show = true;\r\n            this.upid = v.id;\r\n            this.province = v.name\r\n            this.getDistrict();\r\n        },\r\n        // 城市点击事件\r\n        handleCityClick(v){\r\n           \r\n            this.city = v.name;\r\n            this.saveMyInfoByAddress();\r\n        },\r\n        // 编辑地区\r\n        saveMyInfoByAddress(){\r\n            Toast.loading({\r\n                message: '加载中...',\r\n                forbidClick: true\r\n            });\r\n            this.api.saveMyInfoByAddress({\r\n                token:this.$store.state.userData,\r\n                province:this.province,\r\n                city:this.city\r\n            }).then( res => {\r\n                Toast.clear();\r\n                this.show = false;\r\n                if(res.err_code == 0){\r\n                   this.$emit('getuserinfo',false)\r\n                }else {\r\n                    Toast(res.err_msg)\r\n                }\r\n            })\r\n        },\r\n        onClickLeft(){\r\n            this.$emit('goAreaBack',false)\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.selectarea{\r\n    .main{\r\n        padding: 0 15px;\r\n        position: relative;\r\n        > ul{\r\n            > li{\r\n                .title{\r\n                    color: #888888;\r\n                    font-size: 12px;\r\n                    background-color: #EEEEEE;\r\n                    padding: 1px 2px;\r\n                    margin-bottom: 15px;\r\n                }\r\n                ul{\r\n                    li{\r\n                        font-size: 16px;\r\n                        color: #000000;\r\n                        margin-bottom: 28px;\r\n                        &:last-child{\r\n                            margin-bottom: 15px;\r\n                        }\r\n                        > p{\r\n                            display: flex;\r\n                            justify-content: space-between;\r\n                            i{\r\n                                color: #888888\r\n                            }\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        }\r\n        .item-area{\r\n            position: absolute;\r\n            left: 90px;\r\n            right: 0px;\r\n            bottom: 0px;\r\n            top: 0px;\r\n            z-index: 1000;\r\n            background-color: #ffffff;\r\n            > ul{\r\n                padding: 0 27px;\r\n                color: #000000;\r\n                font-size: 15px;\r\n                padding-top: 36px;\r\n                li{\r\n                    margin-bottom: 18px;\r\n                    padding-bottom: 21px;\r\n                    border-bottom: 1px solid #eeeeee\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n<style >\r\n.selectarea .van-nav-bar{\r\n    z-index: 1000 !important;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./selectarea.vue?vue&type=template&id=5935a25e&scoped=true&\"\nimport script from \"./selectarea.vue?vue&type=script&lang=js&\"\nexport * from \"./selectarea.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectarea.vue?vue&type=style&index=0&id=5935a25e&lang=less&scoped=true&\"\nimport style1 from \"./selectarea.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5935a25e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"page-index\" v-if=\"data\">\r\n        <div class=\"\" v-if=\"!areaStatus\">\r\n            <!-- <van-nav-bar            \r\n                left-arrow\r\n                title=\"编辑个人资料\"\r\n                @click-left=\"onClickLeft\"\r\n            >\r\n            \r\n            </van-nav-bar> -->\r\n            <section class=\"main\">\r\n                <div class=\"avatar-box\" >\r\n                    <van-uploader    :after-read=\"afterRead\"   >\r\n                        <img :src=\"data.avatar\" >\r\n                        <p>点击更换头像</p>\r\n                    </van-uploader>\r\n                </div>\r\n                <ul class=\"list\">\r\n                    <li class=\"item\">\r\n                        <p class=\"label\">昵称</p><p class=\"value\" @click=\"handleToEdit('1')\">{{data.username}}<van-icon name=\"arrow\" /></p>\r\n                    </li>\r\n                    <li class=\"item\">\r\n                        <p class=\"label\">签名</p><p class=\"value\" v-bind:class=\"{'not-value':!data.bio}\" @click=\"handleToEdit('2')\">{{data.bio ?  data.bio:'填写个性签名更容易获得关注'}}<van-icon name=\"arrow\" /></p>\r\n                    </li>\r\n                    <li class=\"item\">\r\n                        <p class=\"label\">性别</p><p class=\"value\" v-bind:class=\"{'not-value':!data.gender}\"  @click=\"handleToEdit('3')\">{{data.gender ? data.gender : '点击设置' }}<van-icon name=\"arrow\" /></p>\r\n                    </li>\r\n                    <li class=\"item\">\r\n                        <p class=\"label\">地区</p><p class=\"value\" v-bind:class=\"{'not-value':!data.resideprovince && !data.residecity}\" @click=\"handleToEdit('4')\" >{{data.resideprovince}}.{{data.residecity}} {{!data.resideprovince && !data.residecity ? '点击设置' : ''}}<van-icon name=\"arrow\" /></p>\r\n                    </li>\r\n                    <!-- <li class=\"item\">\r\n                        <p class=\"label\">车友圈</p><p class=\"value\" ><van-icon name=\"arrow\" /></p>\r\n                    </li> -->\r\n                </ul>\r\n            </section>\r\n            <van-action-sheet\r\n                v-model=\"show\"\r\n                :actions=\"actions\"\r\n                cancel-text=\"取消\"\r\n                @select=\"onSelect\"\r\n                @cancel=\"onCancel\"\r\n            />\r\n        </div>\r\n         <Selectarea :areaStatus=\"areaStatus\" @goAreaBack=\"goAreaBack\"  @getuserinfo=\"getUserInfo\" />\r\n         <div class=\"avatar-update-box\" v-if=\"avatarBase64\">\r\n             <div class=\"spherical\">\r\n                 <img :src=\"avatarBase64\" >\r\n             </div>\r\n             <div class=\"action\">\r\n                 <div class=\"flex justify-space-between\">\r\n                    <span @click=\"handleCancel\">取消</span>\r\n                    <span @click=\"handleOk\">确认</span>\r\n                 </div>\r\n             </div>\r\n         </div>\r\n    </div>\r\n   \r\n</template>\r\n\r\n<script>\r\nimport { Toast } from 'vant';\r\nimport Selectarea from './selectarea'\r\nexport default {\r\n    components:{\r\n        Selectarea,\r\n    },\r\n    data(){\r\n        return {\r\n            show:false,\r\n            areaStatus:false,\r\n            avatarBase64:'',\r\n            avatarFile:'',\r\n            actions: [\r\n                { name: '男', color: '#696D7D' ,value:1},\r\n                { name: '女', color: '#696D7D' ,value:2},\r\n                { name: '不显示', color: '#696D7D' ,value:0},\r\n            ],\r\n            data:''\r\n        }   \r\n    },\r\n    created(){\r\n        document.title = '编辑个人资料';\r\n        this.getUserInfo();\r\n\r\n    },\r\n    methods:{\r\n        // 获取 用户信息\r\n        getUserInfo(){\r\n            this.areaStatus = false;\r\n            this.api.getUserInfo({\r\n                token:this.$store.state.userData,\r\n                uid:''\r\n            }).then( res => {\r\n\r\n                if(res.err_code == 0){\r\n                    this.data = res.data;\r\n                   \r\n                }\r\n            })\r\n        },\r\n        // 取消上传头像\r\n        handleCancel(){\r\n            this.avatarBase64 = '';\r\n            this.avatarFile = '';\r\n        },\r\n        // 确认上传头像\r\n        handleOk(){\r\n            this.postImage(this.avatarFile);\r\n        },\r\n        // 上传头像\r\n        postImage(file){\r\n            Toast.loading({\r\n                message: '加载中...',\r\n                forbidClick: true\r\n            });\r\n            let formData = new FormData();\r\n            formData.append('token',this.$store.state.userData)\r\n            formData.append('myfile',file)\r\n            this.api.saveMyAvatar(formData).then(res => {\r\n                Toast.clear();\r\n                if(res.err_code == 0){\r\n                    Toast('修改成功');\r\n                    setTimeout(() => {\r\n                        let json ={method:'e_loadPage()'}\r\n                        console.log(`teldapp://closeWebview?params=`+JSON.stringify(json));\r\n                        window.location.href= `teldapp://closeWebview?params=`+JSON.stringify(json)\r\n                        this.avatarBase64 = '';\r\n                        this.avatarFile = '';\r\n                    },900)\r\n                  //  this.getUserInfo();\r\n                }else {\r\n              \r\n                }\r\n            }).catch(err => {\r\n                Toast(err)\r\n            })\r\n        },\r\n        afterRead(file){\r\n        \r\n            this.avatarBase64 = file.content\r\n            this.avatarFile = file.file;\r\n          // this.postImage(file.file);\r\n        }, \r\n\r\n        // 选择地区返回\r\n        goAreaBack(v){\r\n            this.areaStatus = v;\r\n        },\r\n        handleToEdit(v){\r\n            switch(v){\r\n                case '1':\r\n                    this.$router.push({ path: '/my/editusername' })\r\n                    break;\r\n                case '2':\r\n                    this.$router.push({ path: '/my/editsignature' })\r\n                    break;    \r\n                case '3':\r\n                    this.show = true;\r\n                    break;    \r\n                case '4':\r\n                    this.areaStatus = true;\r\n                    break;\r\n            }\r\n        },\r\n        saveMyInfoByGender(val){\r\n            Toast.loading({\r\n                message: '加载中...',\r\n                forbidClick: true\r\n            });\r\n            this.api.saveMyInfoByGender({\r\n                token:this.$store.state.userData,\r\n                gender:val\r\n            }).then(res => {\r\n                Toast.clear();\r\n                this.show = false;\r\n                if(res.err_code == 0){\r\n                   // this.getUserInfo();\r\n                    Toast('修改成功');\r\n                    setTimeout(() => {\r\n                        let json ={method:'e_loadPage()'}\r\n                        console.log(`teldapp://closeWebview?params=`+JSON.stringify(json));\r\n                        window.location.href= `teldapp://closeWebview?params=`+JSON.stringify(json)\r\n                    },900)                    \r\n                }else {\r\n                    return Toast(res.err_msg);\r\n                }\r\n            })\r\n        },\r\n        onCancel(){\r\n\r\n        },\r\n        onSelect(v){\r\n            this.saveMyInfoByGender(v.value);\r\n        },\r\n        onClickLeft(){\r\n            this.$router.go(-1)\r\n        },\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.page-index{\r\n    .main{\r\n        padding-top: 50px;\r\n\r\n        .avatar-box{\r\n            text-align: center;\r\n            img{\r\n                width: 60px;\r\n                height: 60px;\r\n                border-radius: 100% 100%;\r\n                object-fit: cover;\r\n                margin-bottom: 15px;\r\n            }\r\n            p{\r\n                font-size: 12px;\r\n                color: #4E5578;\r\n                margin-bottom: 40px\r\n            }\r\n        }\r\n        .list{\r\n            padding: 0 15px;\r\n            li{\r\n                display: flex;\r\n                justify-content:space-between;\r\n                margin-bottom: 42px;\r\n                .label{\r\n                    color: #000000;\r\n                    font-size: 15px;\r\n                }\r\n                .value{\r\n                    color: #010101;\r\n                    font-size: 15px;\r\n                    i{\r\n                        color: #888888;\r\n                        display: inline-block;\r\n                        margin-left: 10px;\r\n                    }\r\n                }\r\n                .not-value{\r\n                    color: #D1D1D1\r\n                }\r\n                \r\n            }\r\n        }\r\n\r\n    }\r\n    .avatar-update-box{\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        background-color: #000000;\r\n        .spherical{\r\n            width: 343px;\r\n            height: 343px;\r\n            background: #fff;\r\n            position: relative;\r\n            top: 90px;\r\n            left: 16px;\r\n            border-radius: 100% 100%;\r\n            img{\r\n                width: 100%;\r\n                height: 100%;\r\n                border-radius: 100% 100%\r\n            }\r\n        }\r\n        .action{\r\n            position: fixed;\r\n          \r\n            left: 15px;\r\n            right: 15px;\r\n            bottom: 32px;\r\n            div{\r\n                color: #fff;\r\n                font-size: 18px;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edituserinfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edituserinfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edituserinfo.vue?vue&type=template&id=9dfa1092&scoped=true&\"\nimport script from \"./edituserinfo.vue?vue&type=script&lang=js&\"\nexport * from \"./edituserinfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edituserinfo.vue?vue&type=style&index=0&id=9dfa1092&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9dfa1092\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=style&index=0&id=5935a25e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=style&index=0&id=5935a25e&lang=less&scoped=true&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./selectarea.vue?vue&type=style&index=1&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edituserinfo.vue?vue&type=style&index=0&id=9dfa1092&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edituserinfo.vue?vue&type=style&index=0&id=9dfa1092&lang=less&scoped=true&\""],"sourceRoot":""}