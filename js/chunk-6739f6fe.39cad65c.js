(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6739f6fe"],{"38af":function(a,t,e){"use strict";e.r(t);var i=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"page-index verifyformZj"},[e("van-nav-bar",{attrs:{"left-arrow":"",title:"我的认证"},on:{"click-left":a.onClickLeft}}),e("div",{staticClass:"main"},[e("div",{staticClass:"item item_1"},[e("p",{staticClass:"label label_1"},[a._v("认证类型")]),1==a.type?e("ul",{staticClass:"verif_type"},[e("li",{class:{active:"行业专家"==a.data.occupation}},[a._v("行业专家")]),e("li",{class:{active:"经销商"==a.data.occupation}},[a._v("经销商")]),e("li",{class:{active:"汽车厂商"==a.data.occupation}},[a._v("汽车厂商")])]):a._e(),2==a.type?e("ul",{staticClass:"verif_type"},[e("li",{class:{active:"行业专家"==a.editData.occupation},on:{click:function(t){return a.handleVerifType("行业专家")}}},[a._v("行业专家")]),e("li",{class:{active:"经销商"==a.editData.occupation},on:{click:function(t){return a.handleVerifType("经销商")}}},[a._v("经销商")]),e("li",{class:{active:"汽车厂商"==a.editData.occupation},on:{click:function(t){return a.handleVerifType("汽车厂商")}}},[a._v("汽车厂商")])]):a._e()]),e("van-divider",{staticClass:"line"}),e("div",{staticClass:"item item_2 flex  "},[e("p",{staticClass:"label flex-none"},[a._v("姓名")]),1==a.type?e("p",{staticClass:"value"},[a._v(a._s(a.data.realname))]):a._e(),2==a.type?e("van-field",{attrs:{placeholder:"请输入您的姓名","right-icon":"cross"},on:{"click-right-icon":function(t){a.editData.realname=""}},model:{value:a.editData.realname,callback:function(t){a.$set(a.editData,"realname",t)},expression:"editData.realname"}}):a._e()],1),e("van-divider",{staticClass:"line"}),e("div",{staticClass:"item item_3 item_image"},[e("p",{staticClass:"label"},[a._v("名片或工作证"),2==a.type?e("span",[a._v("（横向拍摄识别更精确）")]):a._e()]),1==a.type?e("div",{staticClass:"value"},[a.data.base_url?e("img",{attrs:{src:a.data.base_url}}):a._e()]):a._e(),2==a.type?e("van-uploader",{attrs:{"after-read":a.afterRead}},[e("div",{staticClass:"image-box"},[a.editData.base_url?e("img",{attrs:{src:a.editData.base_url}}):a._e()])]):a._e()],1),e("van-divider",{staticClass:"line"}),e("div",{staticClass:"item item_2  flex "},[e("p",{staticClass:"label flex-none"},[a._v("联系电话")]),1==a.type?e("p",{staticClass:"value"},[a._v(a._s(a.data.mobile))]):a._e(),2==a.type?e("van-field",{attrs:{placeholder:"请输入您的联系电话","right-icon":"cross"},on:{"click-right-icon":function(t){a.editData.mobile=""}},model:{value:a.editData.mobile,callback:function(t){a.$set(a.editData,"mobile",t)},expression:"editData.mobile"}}):a._e()],1),e("van-divider",{staticClass:"line"}),e("div",{staticClass:"item item_2  "},[e("p",{staticClass:"label"},[a._v("在职公司名称")]),1==a.type?e("p",{staticClass:"value"},[a._v(a._s(a.data.company))]):a._e(),2==a.type?e("van-field",{attrs:{placeholder:"请输入您的在职公司名称","right-icon":"cross"},on:{"click-right-icon":function(t){a.editData.company=""}},model:{value:a.editData.company,callback:function(t){a.$set(a.editData,"company",t)},expression:"editData.company"}}):a._e()],1),e("van-divider",{staticClass:"line"}),e("div",{staticClass:"item item_2  "},[e("p",{staticClass:"label"},[a._v("职业或者某领域的专家")]),1==a.type?e("p",{staticClass:"value"},[a._v(a._s(a.data.position))]):a._e(),2==a.type?e("van-field",{attrs:{placeholder:"请输入您的专家职位","right-icon":"cross"},on:{"click-right-icon":function(t){a.editData.position=""}},model:{value:a.editData.position,callback:function(t){a.$set(a.editData,"position",t)},expression:"editData.position"}}):a._e()],1),e("van-divider",{staticClass:"line"}),e("div",{staticClass:"btn-box flex"},[e("div",{staticClass:"btn-action",on:{click:a.handleAction}},[e("span",[a._v(a._s(1==a.type?"修改资料":"取消修改"))])]),e("div",{staticClass:"btn-status"},[1==a.type?e("div",{},[0==a.data.flag?e("span",[a._v("审核中...")]):a._e(),1==a.data.flag?e("span",[a._v("认证失败")]):a._e(),2==a.data.flag?e("span",[a._v("已认证")]):a._e()]):a._e(),2==a.type?e("div",{on:{click:function(t){return a.checkForm()}}},[e("span",[a._v("重新审核")])]):a._e()])])],1)],1)},s=[],n=e("d399"),l=e("2f14"),c={props:["itemdata"],data:function(){return{type:1,data:{vid:"",company:"",mobile:"",occupation:"行业专家",realname:"",position:"",job_image:"",flag:0,base_url:"",token:this.$store.state.userData},editData:null}},created:function(){this.getIndustryVerify()},mounted:function(){},beforeRouteEnter:function(a,t,e){e((function(a){a.init()}))},methods:{init:function(){"edit"==this.$route.query.type&&(this.data.vid=this.itemdata.vid,this.data.mobile=this.itemdata.mobile,this.data.realname=this.itemdata.realname,this.data.myfile=this.itemdata.myfile,this.data.base64=this.itemdata.real_myfile)},afterRead:function(a){var t=this,e=new FormData;e.append("token",this.$store.state.userData),e.append("myfile",a.file),n["a"].loading({message:"加载中...",forbidClick:!0}),this.api.addVerifyImage(e).then((function(a){n["a"].clear(),0==a.err_code?(t.editData.base_url=a.data.real_file_url,t.editData.job_image=a.data.file_url):Object(n["a"])(a.err_msg)}))},handleVerifType:function(a){this.editData.occupation=a},handleAction:function(){if(2==this.data.flag)return Object(n["a"])("认证通过的资料不可修改!");1==this.type?(this.fillForm(),this.type=2):2==this.type&&(this.type=1)},onClickLeft:function(){this.$router.go(-1)},fillForm:function(){this.editData=Object(l["a"])(this.data)},checkForm:function(){return this.editData.occupation?this.editData.realname?this.editData.base_url?this.editData.mobile?this.editData.company?this.editData.position?void this.hadnleSubmit():Object(n["a"])("请输入您的专家职位"):Object(n["a"])("请输入您的在职公司名称"):Object(n["a"])("请输入您的联系电话"):Object(n["a"])("请上传名片或者工作证"):Object(n["a"])("请输入您的姓名"):Object(n["a"])("请选择认证类型")},getIndustryVerify:function(){var a=this;this.api.getIndustryVerify({token:this.$store.state.userData}).then((function(t){if(0==t.err_code&&"[]"!=JSON.stringify(t.data)){var e=t.data,i=e.company,s=e.position,n=e.realname,l=e.job_image,c=e.occupation,o=e.mobile,d=e.vid,r=e.flag,u=e.base_url;a.data.vid=d,a.data.company=i,a.data.mobile=o,a.data.occupation=c,a.data.realname=n,a.data.position=s,a.data.job_image=l,a.data.flag=r,a.data.base_url=u}}))},hadnleSubmit:function(){var a=this;n["a"].loading({message:"加载中...",forbidClick:!0});var t=new FormData;for(var e in this.editData)"flag"!=e&&"base_url"!=e&&t.append(e,this.editData[e]);this.api.addIndustryVerify(t).then((function(t){n["a"].clear(),0==t.err_code?(Object(n["a"])("修改成功"),a.getIndustryVerify(),a.type=1):Object(n["a"])(t.err_msg)}))}}},o=c,d=(e("a551"),e("9682"),e("2877")),r=Object(d["a"])(o,i,s,!1,null,"e809012c",null);t["default"]=r.exports},"4a1e":function(a,t,e){},9682:function(a,t,e){"use strict";var i=e("4a1e"),s=e.n(i);s.a},a0fa:function(a,t,e){},a551:function(a,t,e){"use strict";var i=e("a0fa"),s=e.n(i);s.a}}]);
//# sourceMappingURL=chunk-6739f6fe.39cad65c.js.map